/* -*- C++ -*-
 * (c) 2006 Helge Bahmann <hcb@chaoticmind.net>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License version 2.1.
 * Refer to the file "COPYING" for details.
 */

#ifndef __TSCB_ATOMIC_H
#define __TSCB_ATOMIC_H

/**
	\file tscb/atomic
	
*/

#include <tscb/config>

#if defined(__GNUC__) && defined(__i386__) && !defined(USE_FALLBACK_ATOMICS)

#include <tscb/atomic-i386>

#elif defined(__GNUC__) && defined(__amd64__) && !defined(USE_FALLBACK_ATOMICS)

#include <tscb/atomic-amd64>

#elif defined(__GNUC__) && (defined(__POWERPC__) || defined(__PPC__)) && !defined(USE_FALLBACK_ATOMICS)

#include <tscb/atomic-ppc>

#elif defined(__GNUC__) && (defined(__sparc__)) && !defined(USE_FALLBACK_ATOMICS)

#include <tscb/atomic-sparc>

#elif defined(__GNUC__) && defined(__alpha__) && !defined(USE_FALLBACK_ATOMICS)

#include <tscb/atomic-alpha>

#elif defined(__GNUC__) && defined(__ia64__) && !defined(USE_FALLBACK_ATOMICS)

#include <tscb/atomic-ia64>

#else

/* FALLBACK implementation for atomic counters using pthread_mutex 
   -- only used as a last resort as it is dog-slow unfortunately */
#include <tscb/atomic-locked>

#endif
	
#endif
